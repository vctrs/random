 <!DOCTYPE html>
<html>
  
  
<script >
function permission () {
    if ( typeof( DeviceMotionEvent ) !== "undefined" && typeof( DeviceMotionEvent.requestPermission ) === "function" ) {
        // (optional) Do something before API request prompt.
        DeviceMotionEvent.requestPermission()
            .then( response => {
            // (optional) Do something after API prompt dismissed.
            if ( response == "granted" ) {
                window.addEventListener( "devicemotion", (e) => {
                    document.getElementById("accel").innerHTML =  e.acceleration.x + " "+e.acceleration.y + " "+e.acceleration.z + " "+  e.rotationRate.alpha + " "+e.rotationRate.beta + " "+e.rotationRate.gamma + " "+ e.interval;
                })
             
             window.addEventListener( "deviceorientation", (e) => {
                    document.getElementById("gyro").innerHTML =  e.alpha + " "+e.beta + " "+ e.gamma;
                })
            }
        })
            .catch( console.error )
    } else {
        alert( "DeviceMotionEvent is not defined" );
    }
}

</script>

 
<body>
<button onclick='permission();'>Request orientation permission</button> 

<p id = "accel">accelerometer</p>
<p id = "gyro">gyro</p>

  
  
  
  
</body>
</html> 
